<div class="flex justify-center sm:justify-end">
    <button mat-flat-button type="button" (click)="onRegisterNewCourse()">Register new course</button>
</div>

<div class="flex flex-wrap gap-4">
    @for (course of courses$ | async; track course.id) {
        <mat-card class="w-full max-w-[360px]">
            <mat-card-header class="mb-4">
                <mat-card-title>{{ course.name }}</mat-card-title>
                <mat-card-subtitle>{{ course | courseIdentifier }}</mat-card-subtitle>
            </mat-card-header>

            <mat-card-content class="flex flex-col space-y-2">
                <div class="flex space-x-2">
                    <span>Registered:</span>
                    <span>{{ course.registrations.length }}</span>
                </div>
                <div class="flex space-x-2">
                    <span>Created:</span>
                    <span>{{ course.createdAt | date: 'mediumDate' }}</span>
                </div>
                <div class="flex space-x-2">
                    <span>Updated:</span>
                    <span>{{ course.updatedAt | date: 'mediumDate' }}</span>
                </div>
            </mat-card-content>

            <mat-card-actions>
                <button mat-button type="button" [routerLink]="course.id">View</button>
                <button mat-button type="button" (click)="onUpdateCourse(course)">Edit</button>
                <button mat-button type="button" (click)="onDeleteCourse(course)">Delete</button>
            </mat-card-actions>
        </mat-card>
    }
</div>

<!-- <mat-card>
    <mat-card-header class="mb-4">
        <mat-card-title>Courses</mat-card-title>
        @if (coursesCount$ | async; as count) {
            <mat-card-subtitle>Total courses: {{ count }}</mat-card-subtitle>
        }
    </mat-card-header>
    <mat-card-content>
        @if ((service.students$ | async).length > 0) {
            <app-students-table
                [data]="service.students$ | async"
                (updateStudent)="onUpdateStudent($event)"
                (deleteStudent)="onDeleteStudent($event)"
            />
        } @else {
            <div class="data-not-found">No students found</div>
        }
    </mat-card-content>
</mat-card> -->
